<!-- @author : Christopher Deshaies -->
<div>
  <h2>Planning</h2>
  <div class="d-flex justify-content-around">
    <div style="width:100%; text-align: center;" (click)='previusSemaine()'>
      <i class="fas fa-arrow-left" ></i>
    </div>
    <label class="col-3" style="padding:0 10px">Planning pour la semaine du {{formattedDateDDMMYY(semaine[0])}} au {{formattedDateDDMMYY(semaine[6])}}</label>
    <div style="width:100%; text-align: center;" (click)='nextSemaine()'>
      <i class="fas fa-arrow-right" (click)='nextSemaine()'></i>
    </div>
  </div>
  <div>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th></th>
          <th colspan="2">Dimanche {{formattedDateDDMM(semaine[0])}}</th>
          <th colspan="2">Lundi {{formattedDateDDMM(semaine[1])}}</th>
          <th colspan="2">Mardi {{formattedDateDDMM(semaine[2])}}</th>
          <th colspan="2">Mercredi {{formattedDateDDMM(semaine[3])}}</th>
          <th colspan="2">Jeudi {{formattedDateDDMM(semaine[4])}}</th>
          <th colspan="2">Vendredi {{formattedDateDDMM(semaine[5])}}</th>
          <th colspan="2">Samedi {{formattedDateDDMM(semaine[6])}}</th>
        </tr>
        <tr>
          <th>Employ√©(s)</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
          <th>M</th>
          <th>S</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor='let user of listUser | async ; let i = index'>
          <td>{{user.nom}} </td>
          <td *ngIf='!fPlanning[i][0]'>0</td>
          <td *ngIf='fPlanning[i][0]' style='background-color: blue'>0</td>
          <td *ngIf='!fPlanning[i][1]'>1</td>
          <td *ngIf='fPlanning[i][1]' style='background-color: blue'>1</td>
          <td *ngIf='!fPlanning[i][2]'>2</td>
          <td *ngIf='fPlanning[i][2]' style='background-color: blue'>2</td>
          <td *ngIf='!fPlanning[i][3]'>3</td>
          <td *ngIf='fPlanning[i][3]' style='background-color: blue'>3</td>
          <td *ngIf='!fPlanning[i][4]'>4</td>
          <td *ngIf='fPlanning[i][4]' style='background-color: blue'>4</td>
          <td *ngIf='!fPlanning[i][5]'>5</td>
          <td *ngIf='fPlanning[i][5]' style='background-color: blue'>5</td>
          <td *ngIf='!fPlanning[i][6]'>6</td>
          <td *ngIf='fPlanning[i][6]' style='background-color: blue'>6</td>
          <td *ngIf='!fPlanning[i][7]'>7</td>
          <td *ngIf='fPlanning[i][7]' style='background-color: blue'>7</td>
          <td *ngIf='!fPlanning[i][8]'>8</td>
          <td *ngIf='fPlanning[i][8]' style='background-color: blue'>8</td>
          <td *ngIf='!fPlanning[i][9]'>9</td>
          <td *ngIf='fPlanning[i][9]' style='background-color: blue'>9</td>
          <td *ngIf='!fPlanning[i][10]'>10</td>
          <td *ngIf='fPlanning[i][10]' style='background-color: blue'>10</td>
          <td *ngIf='!fPlanning[i][11]'>11</td>
          <td *ngIf='fPlanning[i][11]' style='background-color: blue'>11</td>
          <td *ngIf='!fPlanning[i][12]'>12</td>
          <td *ngIf='fPlanning[i][12]' style='background-color: blue'>12</td>
          <td *ngIf='!fPlanning[i][13]'>13</td>
          <td *ngIf='fPlanning[i][13]' style='background-color: blue'>13</td>
          
          <!-- <td *ngFor="let planning of listPlanning | async">TRUE</td> -->
            
          <!-- <td *ngIf='formattedDateDDMM(semaine[0])!==formattedDateDDMM(planning.date)'></td>
            
          <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[0])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td> -->
          
        
          <!-- <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[0])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[0])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[1])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[1])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[1])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[1])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[2])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[2])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[2])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[2])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[3])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[3])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[3])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[3])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[4])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[4])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[4])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[4])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[5])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[5])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[5])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[5])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[6])===formattedDateDDMM(planning.date) && planning.midi' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[6])!==formattedDateDDMM(planning.date) || !planning.midi'></td>
          </div>
          <div *ngFor='let planning of listPlanning | async'>
            <td *ngIf='user.id === planning.employe && formattedDateDDMM(semaine[6])===formattedDateDDMM(planning.date) && planning.soir' style='background-color: blue'></td>
            <td *ngIf='user.id !== planning.employe || formattedDateDDMM(semaine[6])!==formattedDateDDMM(planning.date) || !planning.soir'></td>
          </div> -->
        </tr>
      </tbody>
    </table>
  </div>
</div>